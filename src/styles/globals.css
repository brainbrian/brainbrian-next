@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&family=Open+Sans:ital,wght@0,400;0,700;1,400&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }

  body {
    @apply bg-dark text-light font-body min-w-[20rem] p-0 m-0;
    @apply lg:pt-24;
  }

  h1, h2 {
    @apply text-main font-headline font-bold;
  }

  h3, h4, h5, h6 {
    @apply text-light font-headline;
  }

  h1, h2, h3 {
    @apply font-bold;
  }

  h4, h5, h6 {
    @apply font-medium;
  }

  h1 {
    @apply text-2xl md:text-[2.25rem];
  }

  h2 {
    @apply text-xl md:text-[1.75rem];
  }

  h3 {
    @apply text-lg md:text-[1.25rem];
  }

  h4, h5, h6 {
    @apply text-base md:text-lg;
  }

  p {
    @apply text-light text-lg leading-relaxed mb-4 md:text-xl md:leading-loose;
  }

  a {
    @apply text-main no-underline hover:underline focus-visible:underline;
  }
}

@layer components {
  .content {
    @apply my-8 mx-auto max-w-[90rem] px-8;
  }

  .limit-text-width {
    @apply mx-auto max-w-[64rem];
  }

  .bg-page {
    @apply bg-dark;
  }

  .sr-only {
    @apply absolute w-px h-px p-0 -m-px overflow-hidden whitespace-nowrap border-0;
    clip: rect(0, 0, 0, 0);
    clip-path: inset(50%);
  }

  .post-video-container {
    @apply relative w-full pb-[56.25%] md:w-[120%] md:pb-[67.5%] md:mx-auto md:-ml-[10%];

    iframe {
      @apply absolute w-full h-full;
    }
  }

  .responsive-image {
    @apply my-4 w-full md:my-8 md:max-w-[130%] md:w-[130%] md:-ml-[15%];
  }

  .post-container {
    @apply mx-auto max-w-[64rem];

    video {
      @apply -ml-[4.9%] max-w-[109.8%] w-[109.8%] md:-ml-[10%] md:max-w-[120%] md:w-[120%];
    }
  }

  .post-content {
    code {
      @apply bg-darker text-light font-code py-[0.2em] px-[0.4em] text-[0.9em] rounded;
      
      &.block, 
      &:has(+ br),
      &.language-json,
      &[class*="language-"] {
        display: block;
        @apply p-4 my-4 overflow-x-auto leading-normal rounded shadow-md border-l-[3px] border-main whitespace-pre;
        tab-size: 2;
      }
    }
    
    pre {
      @apply my-4;
      
      code {
        display: block;
        @apply p-4 overflow-x-auto leading-normal rounded shadow-md border-l-[3px] border-main whitespace-pre;
        tab-size: 2;
      }
    }
  }

  .nostyle-list {
    @apply p-0 list-none;

    li {
      @apply mb-12;

      h3 {
        @apply mb-2;
      }

      h4 {
        @apply mt-2;
      }
    }
  }

  .embed-video {
    @apply my-8 relative;

    iframe {
      @apply absolute top-0 w-full h-full;
    }

    &::before {
      content: '';
      @apply block pb-[56.25%] w-full;
    }
  }

  .embed-image {
    @apply relative;

    .responsive-image {
      @apply m-auto max-w-none w-full;
    }   
  }

  .intro-content {
    @apply max-w-[64rem];
  }

  .intro-section {
    &.personal {
      @apply italic text-light;
    }

    p {
      @apply mb-4 md:text-xl md:leading-loose;
    }
  }
}

/* Animations */
@layer utilities {
  @keyframes nav-animation {
    from {
      opacity: 0;
      transform: translateX(100%);
      width: 0%;
    }
    to {
      opacity: 1;
      transform: translateX(0%);
      width: 100%;
    }
  }

  @keyframes float {
    0% {
      transform: translateY(0rem);
    }
    50% {
      transform: translateY(1rem);
    }
    100% {
      transform: translateY(0rem);
    }
  }

  @keyframes fadeInUp {
    0% {
      opacity: 0;
      transform: translateY(1rem);
    }
    50% {
      opacity: 1;
      transform: translateY(-0.25rem);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }
} 